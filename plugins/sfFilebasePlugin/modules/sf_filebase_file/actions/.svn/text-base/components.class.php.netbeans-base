<?php
/* 
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
require_once dirname(__FILE__).'/../lib/sf_filebase_fileGeneratorConfiguration.class.php';
require_once dirname(__FILE__).'/../lib/sf_filebase_fileGeneratorHelper.class.php';

class sf_filebase_fileComponents extends sfComponents
{
  public function executeRetrieveFiles(sfWebRequest $request)
  {
    $f = sfFilebasePlugin::getInstance();
    $this->is_edit = false;
    if($this->form)
    {
      $this->is_edit = true;
      $this->file = $f[$this->form->getObject()->getPathname()];
    }
    elseif($this->sf_filebase_file)
    {
      $this->file = $f[$this->sf_filebase_file->getPathname()];
    }
    else
      return sfView::NONE;
  }
}