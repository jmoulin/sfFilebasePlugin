<?php

/**
 * This class has been auto-generated by the Doctrine ORM Framework
 */
abstract class PluginsfFilebaseFile extends BasesfFilebaseFile
{
  /**
   * Returns the tags as a string representation.
   * @param string $separator
   * @return string $tag_string
   */
  public function getTagsAsString($separator = ', ')
  {
    $tags = array();
    foreach($this->getsfFilebaseTag() AS $tag)
    {
      $tags[] = $tag->getTag();
    }
    return implode($separator, $tags);
  }
  
  /**
   * Sets the tags for this file.
   *
   * @param array $tags
   */
  public function setTags(array $tags)
  {
    Doctrine_Query::create()->
      from('sfFilebaseTag t')->
      delete()->
      where('t.tag IN ('.implode(',', $tags).')');
   
    foreach ($tags AS $tag)
    {
      $new_tag = new sfFilebaseTag();
      $new_tag->setTag($tag);
      $new_tag->setsfFilebaseFile($this);
    }
  }

  public function __toString()
  {
    return (string)$this->getPathname();
  }
}